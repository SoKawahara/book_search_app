<% provide(:title, "投稿編集") %>
<h1 class = "new-title">投稿編集,削除
</h1>
<p class = "caution" style = "font-size: 15px;">(*変更したい要素のみ入力して変更ボタンを押してください)</p>
<p class = "caution" style = "font-size: 15px;">(*投稿を削除する場合には一番下の「投稿を削除する」ボタンを押してください)</p>
<section class="post-item">
    <section class="book-info">
        <%= image_tag eval(@user_post.book_data)["imageLink"] , class: "publish-day-img" %>
        <div class="content">
          <p class="title">～<%= eval(@user_post.book_data)["title"] %>～</p>
          <p class="author"><%= eval(@user_post.book_data)["author"].to_s.gsub(/[\[\]"]/, "") %></p>
        </div>
    </section>
    <section class="post-form">
        <%= form_with url: "/posts/update/#{@user_post.id}" , method: :post , scope: :info do |f| %>
          <%= f.label :post_name , "投稿名" , class: "content" %>
          <%= f.text_field :post_name , placeholder: "投稿名を入力してください", class: "post-name" %>
          <%= f.label :content , "感想:" , class: "content" %>
          <%= f.text_area :content  , class: "text"%>
          <%= f.label :genre, "ジャンル:", class: "content" %>
            <%= f.text_field :genre , class: "post-name", placeholder: "ジャンル名を入力してください" %>

          <%= f.label :readability,  "読みやすさ(難易度 1:難 , 5:易):", class: "content" %><br>
            <div class="post-radio">
                <%= f.label :readability_1 , "1" %>
                <%= f.radio_button :readability, "1" %>
                <%= f.radio_button :readability, "2" %>
                <%= f.radio_button :readability, "3" %>
                <%= f.radio_button :readability, "4" %>
                <%= f.radio_button :readability, "5" %>
                <%= f.label :readability_5 , "5" %>
            </div>

            <%= f.label :convenience,  "手軽さ(1:低 , 5:高):", class: "content" %><br>
            <div class="post-radio">
                <%= f.label :convenience_1 , "1" %>
                <%= f.radio_button :convenience, "1" %>
                <%= f.radio_button :convenience, "2" %>
                <%= f.radio_button :convenience, "3" %>
                <%= f.radio_button :convenience, "4" %>
                <%= f.radio_button :convenience, "5" %>
                <%= f.label :convenience_5 , "5" %>
            </div>

            <%= f.label :recommendation,  "初心者へのおすすめ度(1:低, 5:高):", class: "content" %><br>
            <div class="post-radio">
                <%= f.label :recommendation_1 , "1" %>
                <%= f.radio_button :recommendation, "1" %>
                <%= f.radio_button :recommendation, "2" %>
                <%= f.radio_button :recommendation, "3" %>
                <%= f.radio_button :recommendation, "4" %>
                <%= f.radio_button :recommendation, "5" %>
                <%= f.label :recommendation_5 , "5" %>
            </div>

            <%= f.submit  "変更" , class: "edit-post-btn" %>
            <%= link_to "投稿を削除する" , post_path(@user_post) , data: { "turbo-method": :delete, turbo_confirm: "本当にこの投稿を削除しますか?" } , class: "delete-post-btn" %>
        <% end %>
    </section>
</section>
<%= link_to "投稿一覧に戻る" , "/users/#{current_user.id}/1" , class: "back-btn" %>
